/*! @onshape/ng-i18next - 0.3.15 - 2018-01-10 - Copyright (c) 2018 Andre Meyering; Licensed MIT*/angular.module("jm.i18next",["ng"]),angular.module("jm.i18next").provider("$i18next",function(){"use strict";var n=this,t={},i=null;n.options={},n.i18n={},n.$get=["$rootScope",function(e){function o(){if(!window.i18next)throw new Error("[ng-i18next] Can't find i18next and/or i18next options! Please refer to i18next.");n.i18n=window.i18next,n.options=window.i18next.options,window.i18next.on("initialized",function(t){n.options=t,e.$broadcast("i18nextLanguageChange",n.options.lng)})}function r(n,t){u.debugMsg.push(["i18next options changed:",t,n]),i=n,o()}function a(e,o,r){var a=o.lng||"auto";t[a]||(t[a]={}),n.i18n?(!t[a][e]||r)&&(t[a][e]=n.i18n.t(e,o)):t[a][e]="defaultLoadingValue"in o?o.defaultLoadingValue:"defaultValue"in o?o.defaultValue:"defaultLoadingValue"in i?i.defaultLoadingValue:e}function u(i,e){var o,r=!!e,u=r&&e.ns,s=n.options&&n.options.ns,l=n.options;!u&&s&&(l=angular.copy(n.options),l.ns=l.defaultNs),o=r?angular.extend({},l,e):l,a(i,o,r);for(var f=t[o.lng]?t[o.lng][i]:i,p=o.nsSeparator,c=p.length,d=p,g=n.options.ns,x=0;x<g.length;x++)d=g[x]+p,c=d.length,f&&f.indexOf(d)>-1&&(f=f.substr(f.indexOf(d)+c));return o.lng?f:t.auto[i]}return u.debugMsg=[],u.options=n.options,n.options!==i&&r(n.options,i),u.reInit=function(){r(i,i)},e.$watch(function(){return u.options},function(n,t){n&&t!==n&&r(n,t)},!0),u}]}),angular.module("jm.i18next").directive("ngI18next",["$i18next","$compile","$parse","$interpolate",function(n,t,i,e){"use strict";function o(n){var t={attr:"text"};n=n.split(":");for(var i=0;i<n.length;++i)"i18next"===n[i]?t[n[i]]=!0:t.attr=n[i];return t}function r(n){var t,e={attr:"text"},r="{}";return n=n.trim(),0===n.indexOf("[")&&(t=n.split("]"),e=o(t.shift().substr(1).trim()),n=t.join("]")),e.i18next&&0===n.indexOf("(")&&n.indexOf(")")>=0&&(t=n.split(")"),n=t.pop().trim(),r=t.join(")").substr(1).trim()),{key:n,options:e,i18nOptions:i(r)}}function a(i,o){function a(a){function l(r){r.sprintf&&(r.postProcess="sprintf");var a=n(f.key,r);if("html"===f.options.attr)return o.empty().append(a),t(o.contents())(i),void 0;s&&s();var u=o.text.bind(o);"text"!==f.options.attr&&(u=o.attr.bind(o,f.options.attr)),a=e(a),s=i.$watch(a,u),u(a(i))}var f=r(a);u&&u(),s&&s(),u=i.$watch(f.i18nOptions,l,!0),l(f.i18nOptions(i))}var u,s;this.localize=function(n){for(var t=n.split(";"),i=0;i<t.length;++i)n=t[i].trim(),""!==n&&a(n)}}return{restrict:"A",scope:!1,controller:["$scope","$element",a],require:"ngI18next",link:function(n,t,i,o){function r(n){return u=n.replace(/^\s+|\s+$/g,""),""===u?a():(o.localize(u),void 0)}function a(){if(!a.done){var i=e(t.html());n.$watch(i,r),a.done=!0}}var u="";i.$observe("ngI18next",r),n.$on("i18nextLanguageChange",function(){o.localize(u)})}}}]),angular.module("jm.i18next").filter("i18next",["$i18next",function(n){"use strict";function t(t,i){return n(t,i)}return t.$stateful=!0,t}]);